# Configure Vulnerability Scan for AWS

You can choose to set up vulnerability for your AWS VMs and/or EKS. Before you can set up EKS scanning, make sure your cluster is [onboarded to Ocean](ocean/getting-started/eks/).

1. In the Spot console, go to **Spot Security** > **Administration**.
2. Click **Cloud Account** > **Configure VA**.
3. Select **AWS** and then click **Next**.
4. Click **Login** to sign in to the AWS account.

    <details>
   <summary markdown="span">View image</summary>
   
      <img width=600 src="https://github.com/user-attachments/assets/9824d62b-01b5-4ce7-abf6-7055c24e8685">

   </details>
   
6. You can either configure VM scanning or click **Skip** to configure EKS scanning.

   To configure VM scanning:
    <ol style="list-style-type: lower-alpha;">
    <li>Select the name of your AWS account and click <b>Run Template</b>.</li>
    <li>In the AWS console, enter the organization ID and click <b>Next</b>.</li>
    <li>You can get your organization ID in the Spot console. Click the user icon <img height="18" src="https://docs.spot.io/administration/_media/usericon.png"> > <b>Settings</b> and copy the Organization ID.</li>
    <li>In Run Template, click the <b>Outputs</b> tab and copy the key value from the Value column.</li>
    <li>In the Spot console, paste the key value in <b>Role ARN</b>.</li>
    <li>Select the subnet IDs from the list (or manually enter).</li>

   <details>
    <summary markdown="span">More about subnet IDs</summary>

     By default, all the regions that have VMs are prepopulated for the account. You can delete regions if needed. For each region, select a <i>VPC ID:Subnet ID</i> where the Spot Security Scanner will run.

     The list includes all the public subnet IDs that allow connection using a internet gateway.

     Select <b>Enable auto-assign public IPV4 address</b> in the subnet settings in AWS. If it is disabled, Spot Security creates an Elastic IP for the scanner instance. There is a limit of five Elastic IPs per account per region. Spot Security creates an Elastic IP for the scanner instance. Sign in to your AWS account and [increase your quota](https://signin.aws.amazon.com/signin?redirect_uri=https%3A%2F%2Fus-east-1.console.aws.amazon.com%2Fservicequotas%2Fhome%2Fservices%2Fec2%2Fquotas%2FL-0263D0A3%3FhashArgs%3D%2523%26isauthcode%3Dtrue%26region%3Dus-east-1%26state%3DhashArgsFromTB_us-east-1_2de16467b5c9e198&client_id=arn%3Aaws%3Asignin%3A%3A%3Aconsole%2Fservicequotas&forceMobileApp=0&code_challenge=Zufe-fUc1eZDZ_CVpbmg3P4bl_EcrQxsmGrmMGB6jgg&code_challenge_method=SHA-256). Then select the region to check the capacity available to create a single Elastic IP address for Spot Security in that account and region.

   You can also create a new public subnet ID using internet-gateway for Spot Security and <b>Enable auto-assign public IPV4 address</b> in the subnet settings. To enter the recently created subnet ID you can check <b>Manually enter VPC ID: Subnet ID</b>.

   </details>

     <li>To add a new account, click <b>Add Account</b>b> and repeat the same process starting from Step 3.</li>
     <li>Click <b>Next</b>.</li>
   </ol>

6. Configure EKS scanning (only public images in the EKS cluster are scanned):

   <ol style="list-style-type: lower-alpha;">
   <li>Select the <b>Accounts</b> to scan.</li>
   <li>Click <b>Configure</b>.</li>
